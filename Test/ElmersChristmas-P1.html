<!DOCTYPE html>
<html lang="en">

<head>
  <title>Page 1</title>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width,
 initial-scale=1">

  <link rel="stylesheet" href="styleelmer3.css">

</head>

<body>
<div class="logo-container">
  <img src="assets/Elmer Logo1.png" alt="Elmer's Christmas Logo">
</div>

	 <audio id="audioElement" src="assets/P1.mp3" loop></audio>

    <div id="card">

      <model-viewer src="assets/ElmersChristmas-S1.glb"
					

                    camera-controls
                    id="modelviw"
                    autoplay  ios-src="assets/ElmersChristmas-S1.usdz"
                    ar
                    ar-modes="scene-viewer webxr quick-look"
                    ar-scale="auto"
                    shadow-softness="0.57"
                    environment-image="neutral"
                    environment-change
                    exposure="1"
                    camera-orbit="auto auto auto"
                    auto-rotate min-camera-orbit="auto auto auto"
                    max-camera-orbit="auto auto auto">

        <div class="progress-bar" slot="progress-bar">
        <div class="update-bar"></div>
        </div>

        <button slot="ar-button" id="ar-button">
          Launch AR
        </button>

      </model-viewer>
    </div>
  


  <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
  <script src="https://unpkg.com/focus-visible@5.0.2/dist/focus-visible.js" defer></script>
  <script nomodule src="https://unpkg.com/@google/model-viewer/dist/model-viewer-legacy.js"></script>
  <script src="scriptalt.js"></script>

<div style="display: flex; justify-content: center; gap: 10px;">
  <a href="javascript:history.go(-1)" title="Go back" style="display: inline-block; font-size: 8pt;">Back</a>
<a href="javascript:void(0)" id="playPauseButton" style="display: inline-block; font-size: 8pt;">
  Audio
  <img src="assets/playpause.png" alt="Play/Pause" style="vertical-align: middle; height: 8px;">
</a>
  <a href="https://highstreetsafari.com/ElmersChristmas-P1-Text.html" style="display: inline-block; font-size: 8pt;">Captioned</a>
  <a href="https://highstreetsafari.com/help" style="display: inline-block; font-size: 8pt;">Help</a>
</div>

<script>
  document.getElementById("backButton").addEventListener("click", function() {
    window.history.go(-1);
  });
</script>

  <script>
  const arButton = document.getElementById('ar-button');
const audioElement = document.getElementById('audioElement');
const playPauseButton = document.getElementById('playPauseButton');

function pauseAudio() {
  if (!audioElement.paused) {
    audioElement.pause();
  }
}

arButton.addEventListener('click', () => {
  audioElement.play();
});

playPauseButton.addEventListener('click', () => {
  if (audioElement.paused) {
    audioElement.play();
  } else {
    audioElement.pause();
  }})
const onProgress = (event) => {
      const progressBar = event.target.querySelector('.progress-bar');
      const updatingBar = event.target.querySelector('.update-bar');
      updatingBar.style.width = `${event.detail.totalProgress*100}%`;
      if (event.detail.totalProgress == 1) {
        progressBar.classList.add('hide');
      }
    };
	document.querySelector('#first').addEventListener('progress', onProgress);
   	document.querySelector('#second').addEventListener('progress', onProgress);
</script>
</body>

</html>
